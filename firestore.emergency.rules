rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // ðŸš¨ REGLAS TEMPORALES DE EMERGENCIA
    // Mientras solucionamos el problema de migraciÃ³n de roles
    
    // Permitir acceso a academias para usuarios autenticados
    match /academias/{academiaId} {
      allow read, write: if request.auth != null;
      
      // Permitir acceso a subcollecciones de usuarios en academias
      match /usuarios/{userId} {
        allow read, write: if request.auth != null;
      }
    }
    
    // Permitir acceso a userAcademias
    match /userAcademias/{userId} {
      allow read, write: if request.auth != null;
    }
    
    // Permitir acceso a jugadores
    match /players/{playerId} {
      allow read, write: if request.auth != null;
    }
    
    // Permitir acceso a objetivos
    match /objectives/{objectiveId} {
      allow read, write: if request.auth != null;
    }
    
    // Permitir acceso a sesiones de entrenamiento
    match /trainingSessions/{sessionId} {
      allow read, write: if request.auth != null;
    }
    
    // Permitir acceso a torneos
    match /tournaments/{tournamentId} {
      allow read, write: if request.auth != null;
    }
    
    // Permitir acceso a encuestas
    match /surveys/{surveyId} {
      allow read, write: if request.auth != null;
    }
    
    // Permitir acceso a planes de entrenamiento
    match /trainingPlans/{planId} {
      allow read, write: if request.auth != null;
    }
    
    // NOTA: Estas reglas son temporales y deben ser reemplazadas
    // por reglas mÃ¡s restrictivas una vez resuelto el problema de roles
  }
}
